---
title: "Distribution of job listings across Australia"
author:
- familyname: Troy
  othernames: Helen
  title: Professor
  qualifications: BSc, PhD
  email: helen.troy@gmail.com
  correspondingauthor: true
- familyname: Khan
  othernames: Genghis
  title: Mr
  qualifications: BA, BComm, BCompSci, BLaw
department: Department of\newline Econometrics &\newline Business Statistics
organization: Acme Corporation
bibliography: references.bib
biblio-style: authoryear-comp
linestretch: 1.5
output:
  MonashEBSTemplates::report:
    fig_caption: yes
    fig_height: 5
    fig_width: 8
    includes:
      in_header: preamble.tex
    keep_tex: yes
    number_sections: yes
    citation_package: biblatex
    toc: false
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE, 
                      cache=TRUE, 
                      messages=FALSE, 
                      warning=FALSE)
```

```{r}
library(ggplot2)
library(tidyverse)
library(haven)
library(lubridate)
library(broom)
library(tidyr)
library(base)
library(glue)
```


# Introduction 

Job types, job locations, rising demand for certain job categories, these are just some of the aspects of job hunting that many working people around the world are intrigued by. In this report, you will find an in depth analysis into the distribution of job listings across Australia. The report will analyze 3 main sections of job distribution within Australia, broken down by:

1) The change in demand by job category
2) The change in demand for jobs by city
3) The change in demand by job type

Our motivation to choose this as our research topic is prompted by experiencing first hand the cataclysmic effects of the coronavirus and the impact it has had on the job market globally. It has been an unfortunate scenario to witness unemployment rates skyrocket in major cities around the world. Thus, we want to visualize the changes in demand to jobs of all types and categories in Australia, particularly in the major cities.

# Dataset and Methodology
- Source of data. (Dewi)  
- Limitations (Hanh - master)  
- Methodology: How we deal with this dataset. ( Peimin - master)  

# Analysis:
### Clean the data: 
1. isolate the month + year (Hanh - master branch)  
```{r load-data, cache = TRUE}
raw_data <- read.csv(here::here("data", "seek_australia_sample.csv"))
```

```{r clean-data}
# choose the needed columns only
data_cleaned <- raw_data %>%
  select(3:9)

# separate the post-date column to get the date out
data_cleaned <- data_cleaned %>%
  separate (post_date, into = c("post_date", "tz"), sep = "T")

# convert the post_date column from character to date format
data_cleaned %>%
  mutate_at(vars(post_date), as.Date, format = "%Y-%m-%d")
```

2. Missing values  (Hanh - Hanh-Ngo branch)  

### Analyze the change in demand by job category) (Peimin-Peimin branch)
```{r jobctegory}

jobcategory <- data_cleaned  %>% dplyr::select(post_date,
                                               category) %>%
  separate(post_date, c("Year","Month","day"))%>%
 select(-"Year", -"day") 

```

```{r category_num, fig.cap= " The number of jobs per category"}
canum <- jobcategory %>%
  count(category,sort = TRUE, name = "number")%>%
  arrange(number)
  kableExtra::kable(canum, caption = " The number of jobs per category  ") %>%	
kable_styling(bootstrap_options = c("striped", "hover"))
```



```{r monthly_dirtribution, fig.cap="Monthly job category distribution"}
distribution <- jobcategory  %>%
  count(Month,category,sort = TRUE, name = "number")%>%
  arrange(Month) %>%
   ggplot(aes(x = Month, y = number)) + 
   geom_col(position = "dodge") +
   facet_wrap(~category, ncol = 5)+ 
   theme_bw(base_size = 6.5)+
   theme(axis.text.x = element_text(angle = 50, vjust = 1)) + 
   ggtitle("Monthly job category distribution") 

distribution
```

```{r Month_number, fig.cap="Top 5 category in each month"}
monthly <- jobcategory  %>% 
  count(category,Month,sort = TRUE, name = "number") %>%
  arrange(Month) %>%
  group_by(Month) %>%
  top_n(5) %>%
   ggplot() +
  geom_point(mapping = aes(x = Month, y = number, color = category)) +
  ggtitle("Top 5 category in each month")+
   theme_bw(base_size = 11.5)+
   theme(axis.text.x = element_text(angle = 50, vjust = 1)) 
   
monthly
```
There are 30 jobs category in this dataset and figure\@ref(fig: category_num)   list the number of jobs per category from April to November in 2018. The category of trades and services was the most popular jobs category in 2018 in Australia and information and communication technology was the second which almost the same as the first place. From labour market information portal known that those two categories has been in short supply in Australian labour market. For a better timely observation, figure\@ref(fig: monthly_dirtribution)   shows each jobs category requirement change in difference month which not only show the shortage job, but also show some category is becoming saturated. Meanwhile, figure\@ref(fig:  Month_numbercreates) a graph list top five jobs category in each month. There are 7 categories became the most frequently appeared in the list, for example accounting, administration and office support, healthcare and medical, hospitality and tourism, information and communication technology, Manufacturing, Transport and Logistics, Trade and Services. In October, there were more vacancy and labour requirement than other month. Forbes shown a statistics report that most industries would figure out what they need in September because holiday was coming and finish job before year-end. Thus, October became the most busiest month for recruiting.



### Analyze the change in demand by city + life quality  
1. Change in demand (Hanh)    
2. How does it reflect life quality? (Dewi)

### Analyze the change in demand by job type (Justinâ€™s branch)

# Conclusion: (Justin - master branch)




